% Inspired by Evan Chen's evan.sty, see vEnhance/dotfiles/blob/master/texmf/tex/latex/evan/evan.sty

\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesFile{archit}[02/07/2020]

%%fakesection Argument Processing

	% Default arguments (setting everything false by default)

	\newif\ifarchitfancythrm\architfancythrmfalse
	\newif\ifarchitfancyprob\architfancyprobfalse
	\newif\ifarchitfancydef\architfancydeffalse
	\newif\ifarchitfancyclaim\architfancyclaimfalse
	\newif\ifarchitfancylemma\architfancylemmafalse
	\newif\ifarchitfancyex\architfancyexfalse
	\newif\ifarchitfancyrmk\architfancyrmkfalse
	\newif\ifarchitfancycorollary\architfancycorollaryfalse
	\newif\ifarchitfancyprpstn\architfancyprpstnfalse
	\newif\ifarchitfancyexer\architfancyexerfalse

	\newif\ifarchithints\archithintsfalse

	\newif\ifarchitfancysechead\architfancysecheadtrue

	% Receive arguments

	\DeclareOption{fancythrm}{\architfancythrmtrue}
	\DeclareOption{fancyprob}{\architfancyprobtrue}
	\DeclareOption{fancydef}{\architfancydeftrue}
	\DeclareOption{fancyclaim}{\architfancyclaimtrue}
	\DeclareOption{fancylemma}{\architfancylemmatrue}
	\DeclareOption{fancyex}{\architfancyextrue}
	\DeclareOption{fancycorollary}{\architfancycorollarytrue}
	\DeclareOption{fancyprpstn}{\architfancyprpstntrue}
	\DeclareOption{fancyexer}{\architfancyexertrue}
	\DeclareOption{fancyrmk}{\architfancyrmktrue}

	\DeclareOption{fancyall}{
		\architfancydeftrue
		\architfancyprobtrue
		\architfancythrmtrue
		\architfancyclaimtrue
		\architfancylemmatrue
		\architfancyextrue
		\architfancycorollarytrue
		\architfancyprpstntrue
		\architfancyexertrue
		\architfancyrmktrue
	}

	\DeclareOption{nofancythrm}{\architfancythrmfalse}
	\DeclareOption{nofancyprob}{\architfancyprobfalse}
	\DeclareOption{nofancydef}{\architfancydeffalse}
	\DeclareOption{nofancyclaim}{\architfancyclaimfalse}
	\DeclareOption{nofancylemma}{\architfancylemmafalse}
	\DeclareOption{nofancyex}{\architfancyexfalse}
	\DeclareOption{nofancycorollary}{\architfancycorollaryfalse}
	\DeclareOption{nofancyprpstn}{\architfancyprpstnfalse}
	\DeclareOption{nofancyexer}{\architfancyexerfalse}
	
	\DeclareOption{hints}{\archithintstrue}

	\DeclareOption{fancysechead}{\architfancysecheadtrue}

	\ProcessOptions\relax

%%fakesection Macros And Commands

	\usepackage{amsmath,amssymb,amsthm}
	\usepackage{mathtools}

	\usepackage{bm}
	\usepackage{enumitem}
	\usepackage{hyperref}
	\usepackage{nameref,cleveref}


	% Paired delimiters

	\DeclarePairedDelimiter\norm{\lVert}{\rVert}
	\DeclarePairedDelimiter\abs{\lvert}{\rvert}
	\DeclarePairedDelimiter\ang{\langle}{\rangle}
	\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
	\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
	\DeclarePairedDelimiter\bkt{[}{]}
	\DeclarePairedDelimiter\set{\{}{\}}

	% Math operators

	\DeclareMathOperator{\AR}{Ar}
	\DeclareMathOperator{\SGN}{sgn}
	\DeclareMathOperator{\NE}{Ne}
	\DeclareMathOperator{\DIAM}{diam}
	\DeclareMathOperator{\PROB}{Prob}
	\DeclareMathOperator{\SPAN}{span}
	\DeclareMathOperator{\DIM}{dim}
	\DeclareMathOperator{\NULL}{null}
	\DeclareMathOperator{\RANGE}{range}
	\DeclareMathOperator{\MAT}{Mat}
	\DeclareMathOperator{\KER}{ker}
	\DeclareMathOperator{\RE}{Re}
	\DeclareMathOperator{\IM}{Im}

	% Other math macros

	\newcommand{\dang}{\measuredangle}
	\newcommand{\cycsum}{\sum_{\textrm{cyc}}}
	\newcommand{\outdeg}{\deg^{+}}
	\newcommand{\indeg}{\deg^{-}}
	\newcommand{\pre}[1]{{#1}^{\textrm{pre}}}
	\newcommand{\inv}{^{-1}}
	\newcommand{\sgt}[1]{\overline{#1}}
	% \newcommand{\defeq}{\overset{\textrm{def}}{=}}
	\newcommand{\defeq}{=}
	\newcommand{\vect}[1]{\overrightharp{#1}}

	% To ease the usage of other math fonts

	\newcommand{\mbb}[1]{\mathbb #1}
	\newcommand{\mc}[1]{\mathcal #1}
	\newcommand{\mfk}[1]{\mathfrak #1}
	\newcommand{\mbf}[1]{\mathbf #1}

	% Miscellaneous Macros

	\newcommand{\gap}{\text{ }}
	\newcommand{\ttt}[1]{\texttt{#1}}
	\newcommand{\VOCAB}[1]{\textcolor{red}{\textbf{#1}}}
	\newcommand{\HLINE}[1]{\begin{center}\line(1,0){#1}\end{center}}

%%fakesection Main Setup

	\usepackage{thmtools}
	\usepackage[framemethod=TikZ]{mdframed}

	%%fakesubsection Useful Colors

		\usepackage{color, xcolor}
		\PassOptionsToPackage{usenames,svgnames,dvipsnames,table}{xcolor}

		\definecolor{TealBlue}{rgb}{0.21, 0.46, 0.53}
		\definecolor{MidnightBlue}{rgb}{0.1, 0.1, 0.44}
		\definecolor{Salmon}{rgb}{1.0, 0.55, 0.41}
		\definecolor{RawSienna}{rgb}{0.53, 0.18, 0.09}
		\definecolor{ForestGreen}{rgb}{0.0, 0.27, 0.13}

	%%fakesubsection Fancy Section Headers
		
		\ifarchitfancysechead
			\renewcommand*{\sectionformat}{\color{red}\maltese \thesection\enskip}
			\renewcommand*{\subsectionformat}{\color{red}\maltese \thesubsection\enskip}
			\renewcommand*{\subsubsectionformat}{\color{red}\maltese \thesubsubsection\enskip}
		\fi


	%%fakesubsection Defining Fancy Environments

		\mdfdefinestyle{mdbluebox}{%
			roundcorner = 10pt,
			linewidth=1pt,
			skipabove=12pt,
			innerbottommargin=9pt,
			skipbelow=2pt,
			linecolor=blue,
			nobreak=true,
			backgroundcolor=TealBlue!5,
		}

		\declaretheoremstyle[
			headfont=\sffamily\bfseries\color{MidnightBlue},
			mdframed={style=mdbluebox},
			headpunct={\\[3pt]},
			postheadspace={0pt}
		]{thmbluebox}

		\mdfdefinestyle{mdredbox}{%
			linewidth=0.5pt,
			skipabove=12pt,
			frametitleaboveskip=5pt,
			frametitlebelowskip=0pt,
			skipbelow=2pt,
			frametitlefont=\bfseries,
			innertopmargin=4pt,
			innerbottommargin=8pt,
			nobreak=true,
			backgroundcolor=Salmon!5,
			linecolor=RawSienna,
		}

		\declaretheoremstyle[
			headfont=\bfseries\color{RawSienna},
			mdframed={style=mdredbox},
			headpunct={\\[3pt]},
			postheadspace={0pt},
		]{thmredbox}

		\mdfdefinestyle{mdgreenbox}{%
			skipabove=8pt,
			linewidth=2pt,
			rightline=false,
			leftline=true,
			topline=false,
			bottomline=false,
			linecolor=ForestGreen,
			backgroundcolor=ForestGreen!5,
		}

		\declaretheoremstyle[
			headfont=\bfseries\sffamily\color{ForestGreen!70!black},
			bodyfont=\normalfont,
			spaceabove=2pt,
			spacebelow=1pt,
			mdframed={style=mdgreenbox},
			headpunct={ --- },
		]{thmgreenbox}

		\mdfdefinestyle{mdblackbox}{%
			skipabove=8pt,
			linewidth=3pt,
			rightline=false,
			leftline=true,
			topline=false,
			bottomline=false,
			linecolor=black,
			backgroundcolor=black!5!gray!5,
		}

		\declaretheoremstyle[
			headfont=\bfseries,
			bodyfont=\normalfont\small,
			spaceabove=0pt,
			spacebelow=0pt,
			mdframed={style=mdblackbox}
		]{thmblackbox}

		\mdfdefinestyle{mdredredbox}{
			skipabove=12pt,
			skipbelow=12pt,
			linewidth=2pt,
			leftline=false,
			rightline=false,
			bottomline=false,
			topline=true,
			linecolor=red,
			backgroundcolor=red!5!white
		}

		\declaretheoremstyle[
			headfont=\bfseries,
			bodyfont=\normalfont,
			spaceabove=3pt,
			spacebelow=3pt,
			mdframed={style=mdredredbox},
			headpunct={\\[3pt]}
		]{thmredredbox}

	%%fakesubsection Defining Math Environments
		
		% Proof and solution environments

			\newenvironment{solution}[1]{\vspace{-0.7cm}\paragraph{Solution#1:}}{\hfill$\square$ \medskip}

			\renewenvironment{proof}[1]{\vspace{-0.7cm}\paragraph{Proof#1:}}{\hfill$\square$ \medskip}

		% Theorems, lemmas, claims, definitions, corollaries, propositions, problems, examples, remarks and exercises

			\ifarchitfancythrm
				\declaretheorem[style=thmbluebox,name=Theorem,numberwithin=section,refname={theorem,theorems},Refname={Theorem,Theorems}]{theorem}
				\declaretheorem[style=thmbluebox,name=Theorem,numbered=no]{theorem*}
			\else
				\newtheorem{theorem}{Theorem}[section]
				\newtheorem*{theorem*}{Theorem}
			\fi

			\ifarchitfancylemma
				\declaretheorem[style=thmbluebox,name=Lemma,sibling=theorem,refname={lemma,lemmas},Refname={Lemma,Lemmas}]{lemma}
				\declaretheorem[style=thmbluebox,name=Lemma,numbered=no]{lemma*}
			\else
				\newtheorem{lemma}{Lemma}[theorem]
				\newtheorem*{lemma*}{Lemma}
			\fi

			\ifarchitfancyprob
				\declaretheorem[style=thmbluebox,name=Problem,sibling=theorem,refname={problem,problems},Refname={Problem,Problems}]{problem}
				\declaretheorem[style=thmbluebox,name=Problem,numbered=no]{problem*}
			\else
				\newtheorem{problem}{Problem}[theorem]
				\newtheorem*{problem*}{Problem}
			\fi


			\ifarchitfancydef
				\declaretheorem[style=thmredredbox,name=Definition,sibling=theorem]{definition}
				\declaretheorem[style=thmredredbox,name=Definition,numbered=no]{definition*}

			\else
				\newtheorem{definition}{Definition}[theorem]
			\fi

			\ifarchitfancyclaim
				\declaretheorem[style=thmgreenbox,name=Claim,sibling=theorem]{claim}
				\declaretheorem[style=thmgreenbox,name=Claim,numbered=no]{claim*}

			\else
				\newtheorem{claim}{Claim}[theorem]
				\newtheorem*{claim*}{Claim}
			\fi

			\ifarchitfancyex
				\declaretheorem[style=thmredbox,name=Example,sibling=theorem,refname={example,examples},Refname={Example,Examples}]{example}
				\declaretheorem[style=thmredbox,name=Example,numbered=no]{example*}

			\else
				\newtheorem{example}{Example}[theorem]
				\newtheorem*{example*}{Example}
			\fi

			\ifarchitfancycorollary
				\declaretheorem[style=thmbluebox,name=Corollary,sibling=theorem,refname={corollary,corollaries},Refname={Corollary,Corollaries}]{corollary}
				\declaretheorem[style=thmbluebox,name=Corollary,numbered=no]{corollary*}
			
			\else
				\newtheorem{corollary}{Corollary}[theorem]
				\newtheorem*{corollary*}{Corollary}
			\fi

			\ifarchitfancyprpstn
				\declaretheorem[style=thmbluebox,name=Proposition,sibling=theorem,refname={proposition,propositions},Refname={Proposition,Propositions}]{proposition}
				\declaretheorem[style=thmbluebox,name=Proposition,numbered=no]{proposition*}
			\else
				\newtheorem{proposition}{Proposition}[theorem]
				\newtheorem*{proposition*}{Proposition}
			\fi

			\ifarchitfancyexer
				\declaretheorem[style=thmblackbox,name=Exercise,sibling=theorem,refname={exercise,exercises},Refname={Exercise,Exercises}]{exercise}
			\else
				\newtheorem{exercise}{Exercise}[theorem]
			\fi

			\ifarchitfancyrmk
				\declaretheorem[style=thmblackbox,name=Remark,sibling=theorem]{remark}
				\declaretheorem[style=thmblackbox,name=Remark,numbered=no]{remark*}
			\else
				\newtheorem{remark}{Remark}[theorem]
				\newtheorem*{remark*}{Remark}
			\fi

\endinput
